{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/patch-prop/pacthEvent.ts", "../src/patch-prop/patchAttr.ts", "../src/patch-prop/patchClass.ts", "../src/patch-prop/patchStyle.ts", "../src/patchProp.ts", "../../shared/src/index.ts", "../../runtime-core/src/createVNode.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/watch.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/ref.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/renderer.ts"],
  "sourcesContent": ["import { nodeOps } from \"./nodeOps\";\n\nimport { patchProp } from \"./patchProp\";\nimport { createRenderer } from '@vue/runtime-core';\n\n\nconst renderOptions = {\n    patchProp,...nodeOps\n}\n//vue \u5185\u7F6E\u7684\u6E32\u67D3\u5668 \u6211\u4EEC\u4E5F\u53EF\u4EE5\u540C\u4E2AcreateRenderer \u521B\u5EFA\u4E00\u4E2A\u6E32\u67D3\u5668\nexport function render(vnode,container){\n   let {render} = createRenderer(renderOptions)\n   render(vnode,container)\n}\nexport * from '@vue/runtime-core'", "export const nodeOps = {\n    createElement(tagName){\n        return document.createElement(tagName)\n    },\n    createTextNode(text){\n        return document.createTextNode(text)\n    },\n    insert(element,container,anchor = null){\n        container.insertBefore(element,anchor) //\u5982\u679C anchor\u4E3Anull \u5219\u662FappendChild\n    },\n    remove(child){\n        const parent = child.parentNode\n        if(parent){\n            parent.removeChild(child)\n        }\n    },\n    querySelector(selectors){\n        return document.querySelector(selectors)\n    },\n    parentNode(child){\n        return child.parentNode\n    },\n    nextSibling(child){\n        return child.nextSibling\n    },\n    setText(element,text){ //\u7ED9\u6587\u672C\u8282\u70B9\u8BBE\u7F6E\u5185\u5BB9\n        element.nodeValue = text\n    },\n    setElementText(element,text){ // \u7ED9\u5143\u7D20\u8282\u70B9\u8BBE\u7F6E\u5185\u5BB9\n        element.textContent = text\n    }\n}\n//\u521B\u5EFA\u5143\u7D20\u8282\u70B9 \u521B\u5EFA\u6587\u672C\u8282\u70B9 \u8282\u70B9\u7684\u589E\u5220\u6539\u67E5 \u83B7\u53D6\u7236\u5B50\u5173\u7CFB", "// click ()=>fn1 ()=> fn2 \u4E0D\u9700\u8981\u6BCF\u6B21 add  \u548Cremove\nfunction createInvoker(preValue){\n    const invoker = (e) => {invoker.value(e)} // \u90FD\u8981\u8C03\u7528\u624D\u4F1A\u6267\u884C\n    invoker.value = preValue // \u540E\u7EED\u53EA\u8981\u66F4\u6539value\u5C31\u53EF\u4EE5\u8FBE\u5230\u8C03\u7528\u4E0D\u540C\u7684\u903B\u8F91\n    return invoker\n}\nexport function patchEvent(el,eventName,nextValue){\n    const invokers = el._vei || (el._vei = {})\n\n    const exitingInvoker = invokers[eventName]\n\n    if(exitingInvoker && nextValue){ // \u8FDB\u884C\u6362\u7ED1\n        exitingInvoker.value = nextValue\n    }else{\n        const eName = eventName.slice(2).toLowerCase()\n        if(nextValue){\n            //\u4E0D\u5B58\u5728\u7F13\u5B58 addEventlistener()\n        \n            const invoker = createInvoker(nextValue)\n            invokers[eventName] = invoker\n            el.addEventListener(eName, invoker)\n\n        }else if(exitingInvoker){\n            //\u6CA1\u6709\u65B0\u503C  \u4E4B\u524D\u7ED1\u5B9A\u8FC7\n            el.removgeEventListener(eName, exitingInvoker)\n            invokers[eventName] = null\n        }\n    }\n\n\n}", "export function patchAttr(el,key,nextValue){\n    if(nextValue == null){\n        el.removeAttribute(key)\n    }else{\n        el.setAttribute(key,nextValue)\n    }\n}", "export function patchClass(el,nextValue){\n    if(nextValue == null){\n        el.removeAttribute('class')\n    }else{\n        el.className = nextValue\n    }\n}", "export function patchStyle(el,preValue,nextValue){\n    preValue = preValue ? preValue : {}\n    nextValue = nextValue ? nextValue : {}\n    // \u6BD4\u5BF9 \u4E24\u4E2A\u5BF9\u8C61 \u9700\u8981\u540C\u65F6\u904D\u5386 \u65B0\u7684\u548C\u8001\u7684\n    const style = el.style\n    for(let key in nextValue){\n        style[key] = nextValue[key]\n    }\n    if(preValue){\n        for(let key in preValue){\n            if(nextValue[key] == null){\n                //\u8001\u7684 \u6709 \u65B0\u7684\u6CA1\u6709 \u9700\u8981\u5220\u9664\u8001\u7684\n                style[key] = null\n            }\n        }\n    }\n}", "//\u7ED9\u5C5E\u6027\u6253\u8865\u4E01\n//\u7C7B\u540D\n// \u884C\u5185\u6837\u5F0F\n// \u4E8B\u4EF6\n// \u5176\u4ED6\u5C5E\u6027\n\nimport { patchEvent } from \"./patch-prop/pacthEvent\"\nimport { patchAttr } from \"./patch-prop/patchAttr\"\nimport { patchClass } from \"./patch-prop/patchClass\"\nimport { patchStyle } from \"./patch-prop/patchStyle\"\n\nexport const patchProp = (el,key,preValue,nextValue)=> {\n    if(key === 'class'){\n        patchClass(el,nextValue)\n    }else if(key === 'style'){\n        patchStyle(el,preValue,nextValue)\n    }else if(/on[^a-z]/g.test(key)){ // onClick\n        patchEvent(el,key,nextValue)\n    }else{\n        patchAttr(el,key,nextValue)\n    }\n}\n", "export const isObject = (value) =>{\r\n    return typeof value === 'object' && value !== null\r\n}\r\nexport const isFunction = (value)=>{\r\n    return typeof value === 'function'\r\n}\r\nexport const isString = (value) =>{\r\n    return typeof value === 'string'\r\n}\r\nexport const isArray = Array.isArray\r\n\r\nexport const isNumber = (value) => {\r\n    return typeof value === 'number'\r\n}", "import { isArray, isString } from \"@vue/shared\"\n\nexport const Text = Symbol('Text')\nexport const Fragement = Symbol('Fragement')\n\nexport function isVnode(val){\n    return val.__v_isVNode\n}\nexport function isSameVNode(v1,v2){\n    return v1.type === v2.type && v1.key == v2.key\n}\nexport function createVNode(type,props=null,children=null){\n    let shapFlag = isString(type) ? shapeFlags.ELEMENT : 0\n    //\u5C06\u5F53\u524D\u8282\u70B9\u8DDF\u513F\u5B50\u505A\u6620\u5C04 \u6743\u9650\u7EC4\u5408 \u4F4D\u8FD0\u7B97\n    const vnode = { // vnode \u8981\u5BF9\u5E94\u771F\u5B9E\u7684\u8282\u70B9 \n        __v_isVNode:true,\n        type,\n        props,\n        children,\n        key:props && props.key,\n        el:null, //\u771F\u5B9E\u8282\u70B9\u7684\u6620\u5C04\n        shapFlag, //\u6253\u4E2A\u6807\u8BB0\n    }\n\n    if(children){\n        let temp = 0\n        if(isArray(children)){\n            temp = shapeFlags.ARRAY_CHILDREN\n        }else{\n            children = String(children)\n            temp = shapeFlags.TEXT_CHILDREN\n        } \n        vnode.shapFlag |= temp\n    }\n    // shapeFlags \u6211\u60F3\u77E5\u9053\u8FD9\u4E2A\u865A\u62DF\u8282\u70B9\u7684\u513F\u5B50\u662F\u6570\u7EC4\u8FD8\u662F\u5143\u7D20 \u8FD8\u662F\u6587\u672C\n    return vnode\n}\n\nexport const enum shapeFlags {\n    ELEMENT = 1,\n    FUNCTION_COMPONENT = 1 << 1,\n    STATEFUL_COMPONENT = 1<<2,\n    TEXT_CHILDREN = 1<<3,\n    ARRAY_CHILDREN = 1<<4,\n    SLOTS_CHILDREN = 1<<5,\n    TELEPORT = 1<<6,\n    SUSPENSE = 1<<7,\n    COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\n    COMPONENT_KEEP_ALIVE = 1<<9,\n    COMPONENT = shapeFlags.STATEFUL_COMPONENT | shapeFlags.FUNCTION_COMPONENT\n}\n\n//\u4F4D\u8FD0\u7B97 \n// \u901A\u8FC7 | \u5C062\u4E2A\u7C7B\u578B\u751F\u6210 \u65B0\u7684\u7C7B\u578B \u7136\u540E\u901A\u8FC7 & \u5224\u65AD\u751F\u6210\u65B0\u7684\u7C7B\u578B\u8DDF\u539F\u6765\u4E24\u4E2A\u7C7B\u578B\u7684\u5173\u7CFB\n// \u6BD4\u5982 1 | 2 | 4 = 7 \n// 1 & 7 = 1\n// 2 & 7 = 2\n// 4 & 7 = 4\n// \u5927\u4E8E0 \u8868\u793A \u5305\u542B \u5C31\u662F7\u8FD9\u4E2A\u7C7B\u578B \u662F\u524D\u9762\u4E09\u79CD\u7C7B\u578B\u4E2D\u7684\u4E00\u79CD \n// \u5C0F\u4E8E\u7B49\u4E8E0  \u8868\u793A7 \u4E0D\u5C5E\u4E8E\u524D\u9762\u4E09\u79CD\u7684\u4E00\u79CD", "\r\nexport\u3000let activeEffect = undefined\r\nfunction cleanEffect(effect){\r\n    //\u6E05\u7406effect \u4E2D\u5B58\u5165\u5C5E\u6027\u4E2D set \u4E2D\u7684effect\r\n\r\n    // \u6BCF\u6B21\u6267\u884C\u524D\u90FD\u9700\u8981\u5C06effect \u53EA\u5BF9\u5E94\u5C5E\u6027\u7684set\u96C6\u5408\u90FD\u6E05\u7406\u6389\r\n    let deps = effect.deps\r\n    for(let i = 0; i <deps.length ; i++){\r\n        deps[i].delete(effect)\r\n    }\r\n    effect.deps.length = 0\r\n}\r\nexport class ReactiveEffect{\r\n    public active = true\r\n    public parent = null\r\n    public deps = []\r\n    constructor(public fn,public scheduler?){ // \u4F20\u9012\u7684fn \u653E\u5230this \u4E0A\r\n        \r\n    }\r\n    run(){\r\n        //\u4F9D\u8D56\u6536\u96C6 \u8BA9\u5C5E\u6027\u8DDFeffect\u4EA7\u751F\u5173\u8054\r\n        if(!this.active){\r\n            return this.fn()\r\n        }else{\r\n            try{\r\n                this.parent = activeEffect\r\n                activeEffect = this\r\n                cleanEffect(this)\r\n                return this.fn()\r\n            }finally{\r\n                //\u53D6\u6D88activeEffect \u7684\u6536\u96C6\r\n                activeEffect = this.parent\r\n                this.parent = null\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n    stop(){\r\n        if(this.active) this.active = false\r\n        cleanEffect(this)\r\n    }\r\n}\r\n\r\n\r\n//\u54EA\u4E2A\u5BF9\u8C61\u4E2D \u7684\u54EA\u4E2A\u5C5E\u6027\u5BF9\u5E94\u54EA\u4E2Aeffect \u4E00\u4E2A\u5C5E\u6027\u53EF\u4EE5\u5BF9\u5E94\u591A\u4E2Aeffect\r\n// \u5916\u5C42\u7528\u4E00\u4E2Amap{object:{name:[effect,effect]}\r\n\r\nconst targetkMap = new WeakMap()\r\n\r\nexport function trigger(target,key,value){\r\n    let depsMap = targetkMap.get(target)\r\n    if(!depsMap){\r\n        return\r\n    }\r\n    let effects = depsMap.get(key)\r\n    traggeEffect(effects)\r\n}\r\n\r\nexport function traggeEffect(effects){\r\n    if(effects){\r\n        effects = new Set(effects) // \u590D\u5236\u4E00\u4E2A\u65B0\u7684 \u907F\u514D\u5FAA\u73AF\u7684\u65F6\u540E\u6B7B\u5FAA\u73AF\r\n        effects.forEach(effect => {\r\n            if(effect !== activeEffect){ // \u5982\u679C\u662F\u901A\u4E00\u4E2A\u7684\u8BDD \u5C31\u4F1A\u6B7B\u5FAA\u73AF\r\n                if(effect.scheduler){\r\n                    effect.scheduler()\r\n                }else{\r\n                    effect.run() //\u91CD\u65B0\u6267\u884Ceffect\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexport function  track(target,key){\r\n    if(activeEffect){\r\n        let depsMap = targetkMap.get(target)\r\n        if(!depsMap){\r\n            targetkMap.set(target,(depsMap = new Map()))\r\n        }\r\n        let deps = depsMap.get(key)\r\n        if(!deps){\r\n            depsMap.set(key,(deps = new Set()))\r\n        }\r\n        trackEffect(deps)\r\n       \r\n        // console.log(targetkMap)\r\n      \r\n    }\r\n   //\u8BA9\u5C5E\u6027\u8BB0\u5F55\u6240 \u7528\u5230\u7684effect \u54EA\u4E2Aeffect \u5BF9\u5E94\u4E86\u54EA\u4E2A\u5C5E\u6027\r\n}\r\nexport function trackEffect(deps){\r\n    let shouleTrack = !deps.has(activeEffect)\r\n    if(shouleTrack){\r\n        deps.add(activeEffect)\r\n        activeEffect.deps.push(deps)\r\n    }\r\n}\r\n\r\nexport function effect(fn,options = {} as any){\r\n\r\n    \r\n\r\n    //\u5C06\u7528\u6237\u4F20\u9012\u7684\u51FD\u6570 \u53D8\u6210\u54CD\u5E94\u5F0F\u7684effect\r\n\r\n    const _effect = new ReactiveEffect(fn,options.scheduler)\r\n    // \u66F4\u6539 runner \u4E2D\u7684this\r\n    _effect.run()\r\n    \r\n    const runner = _effect.run.bind(_effect)\r\n\r\n    runner.effect = _effect //\u66B4\u9732effect\u5B9E\u4F8B\r\n    return runner\r\n}", "import { isObject } from \"@vue/shared\"\r\nimport {baseHandler,ReactiveFlags} from \"./baseHandler\";\r\n\r\n\r\nconst reactiveMap = new WeakMap() //key \u5FC5\u987B\u662F\u5BF9\u8C61\r\n// v8 \u5783\u573E\u56DE\u6536\u673A\u5236 \uFF0C\u6807\u8BB0\u5220\u9664 \u5F15\u7528\u8BA1\u6570 \r\n\r\n\r\n\r\nexport function reactive(target){\r\n    if(!isObject(target)){\r\n        return target\r\n    }\r\n    if(target[ReactiveFlags.IS_REACTIVE]){\r\n        return target\r\n    }\r\n    const existing = reactiveMap.get(target)\r\n    if(existing){\r\n        return existing\r\n    }\r\n    const proxy = new Proxy(target,baseHandler)\r\n    reactiveMap.set(target,proxy)\r\n    //\u4E00\u4E2A\u5BF9\u8C61 \u88AB\u4EE3\u7406\u4E86 \u5C31\u4E0D\u8981\u4EE3\u7406\u4E86\r\n\r\n    return proxy\r\n}\r\n// \u4F7F\u7528proxy \u8981\u642D\u914DReflect \u6765\u4F7F\u7528\r\n\r\n// let person = {\r\n//     name:'ab',\r\n//     get aliasName(){ // \u5C5E\u6027\u8BBF\u95EE\u5668\r\n//         return this.name + 'jb'\r\n//     }\r\n// }\r\n// const proxy = new Proxy(person,{\r\n//     get(target,key,receiver){\r\n//         console.log('\u8FD9\u91CC\u53EF\u4EE5\u8BB0\u5F55\u54EA\u4E2A\u5C5E\u6027\u4F7F\u7528\u4E86\u54EA\u4E2Aeffect')\r\n//         return Reflect.get(target,key,receiver)\r\n//     },\r\n//     set(target,key,value,receiver){\r\n//         console.log('\u8FD9\u91CC\u53EF\u4EE5\u901A\u77E5effect\u91CD\u65B0\u6267\u884C')\r\n//         return Reflect.set(target,key,value,receiver)\r\n//     }\r\n// })\r\n// proxy.aliasName\r\n//  \u8FD9\u91CC\u53D6aliasName \u503C\u7684\u65F6\u5019 \u6267\u884C\u4E86get \u65B9\u6CD5\r\n// \u4F46\u662F aliasName \u662F\u57FA\u4E8Ename \u53D6\u503C \u539F\u5219\u4E0A\u5E94\u8BE5\u518D\u8BBF\u95EE\u4E00\u6B21name\r\n// \u7136\u800C this.name \u5E76\u6CA1\u6709\u5BF9proxy \u7684get \u4E5F\u610F\u5473\u7740\u540E\u9762\u4FEE\u6539name \r\n// \u4E0D\u4F1A\u5BFC\u81F4\u9875\u9762\u66F4\u65B0\r\n\r\n// \u7528\u4E86reflect\u4E4B\u540E \u5C31\u4F1A\u518D\u8C03\u7528\u4E00\u6B21get \u800C\u4E14 \u4F1A\u4ECEtarget\u4E0A\u9762\u91CD\u65B0\u53D6\u503C\r\n// \u8FD9\u5C31\u662F\u4E3A\u5565proxy\u8981\u8DDFreflect\u914D\u5408\u4F7F\u7528", "import { triggerRef } from 'vue';\r\nimport { track, trigger } from './effect';\r\nimport { isObject } from '../../shared/src/index';\r\nimport { reactive } from './reactive';\r\nexport const enum ReactiveFlags {\r\n    IS_REACTIVE = '_v_isReactive'\r\n}\r\nexport function isReactive(value){\r\n    return value && value[ReactiveFlags.IS_REACTIVE]\r\n}\r\nexport const baseHandler =  {\r\n    get(target,key,receiver){\r\n        if(key === ReactiveFlags.IS_REACTIVE){\r\n            return true\r\n        }\r\n        // \u6536\u96C6\u4F9D\u8D56\r\n        track(target,key)\r\n\r\n        // lazy proxy \u5982\u679C\u5C5E\u6027\u662F\u5BF9\u8C61 \u5C31\u7EE7\u7EED\u4EE3\u7406\r\n        let res = Reflect.get(target,key,receiver)\r\n        if(isObject(res)){\r\n            return reactive(res)\r\n        }\r\n        // console.log('\u8FD9\u91CC\u53EF\u4EE5\u8BB0\u5F55\u54EA\u4E2A\u5C5E\u6027\u4F7F\u7528\u4E86\u54EA\u4E2Aeffect')\r\n        return res\r\n    },\r\n    set(target,key,value,receiver){\r\n        \r\n        //\u6570\u636E\u53D8\u5316\u540E\u8981\u6839\u636E\u5C5E\u6027\u503C\u627E\u5230\u5BF9\u5E94\u7684effect \u5217\u8868\u8BA9\u5176\u4F9D\u6B21\u6267\u884C\r\n        \r\n        let oldValue = target[key]\r\n        let result = true\r\n        if(oldValue !== value){\r\n            result = Reflect.set(target,key,value,receiver)\r\n            trigger(target,key,value)\r\n        }\r\n        return  result\r\n    }\r\n}", "import { isReactive } from './baseHandler';\r\nimport { ReactiveEffect } from './effect';\r\nimport { isFunction, isObject } from '../../shared/src/index';\r\n\r\n//\u5BF9value \u8FDB\u884C\u8FED\u4EE3\u8BBF\u95EE \u8FD9\u6837\u7A0D\u540E\u6267\u884Ceffect\u7684\u65F6\u5019 \u4F1A\u9ED8\u8BA4\u53D6\u503C\uFF0C\u53D6\u503C\u7684\u65F6\u5019\u4F1A\u6536\u96C6\r\nfunction traversal(value,set = new Set()){ //set\u7528\u6765\u5B58\u653E\u8FED\u4EE3\u8FC7\u7684\u5BF9\u8C61\r\n    // \u9012\u5F52\u8BBF\u95EE\r\n    if(!isObject(value)){\r\n        return value\r\n    }\r\n    if(set.has(value)){\r\n        return value\r\n    }\r\n    set.add(value) // \u8BF4\u660E\u5BF9\u8C61\u5DF2\u7ECF\u8FED\u4EE3\u8FC7\u4E86\r\n    for(let key in value){\r\n        traversal(value[key],set)\r\n    }\r\n    return value\r\n}\r\nexport function watch(source,cb){\r\n    let get\r\n    if(isReactive(source)){\r\n        //\u521B\u5EFA\u4E00\u4E2Aeffect \u8BA9\u8FD9\u4E2Aeffect \u6536\u96C6\u8FD9\u4E2A\u5BF9\u8C61\u7684\u6240\u6709\u5C5E\u6027 \r\n       console.log('\u662F\u54CD\u5E94\u5F0F\u5BF9\u8C61') \r\n        get = ()=>traversal(source)\r\n    }else if(isFunction(source)){\r\n        get = source // souurce \u662F\u4E00\u4E2A\u51FD\u6570\r\n    }\r\n    let oldValue \r\n    const job = ()=>{\r\n        //\u6570\u636E\u53D8\u5316\u540E\u91CD\u65B0\u8C03\u7528effect.run \u51FD\u6570 \u83B7\u53D6\u65B0\u503C\r\n        let newValue = effect.run()\r\n        cb(newValue,oldValue)\r\n    }\r\n    const effect = new ReactiveEffect(get,job)\r\n    // \u9ED8\u8BA4\u8C03\u7528run \u65B9\u6CD5 \u4F1A\u6267\u884Cget \u51FD\u6570,\u6B64\u65F6 source\u4F5C\u4E3A\u7B2C\u4E00\u6B21\u7684\u503C\r\n    oldValue = effect.run() // \u9ED8\u8BA4\u6267\u884C\u4E00\u6B21\r\n}", "import { isFunction } from '@vue/shared';\r\nimport { ReactiveEffect, effect, activeEffect, trackEffect, traggeEffect } from './effect';\r\nexport function computed(getterOrOptions){\r\n    let isGetter = isFunction(getterOrOptions)\r\n    let getter,setter\r\n    let fn = ()=>console.warn('computed is readonly')\r\n    if(isGetter){\r\n        getter = getterOrOptions\r\n        setter = fn\r\n    }else{\r\n        getter = getterOrOptions.get\r\n        setter = getterOrOptions.set || fn \r\n    }\r\n    return new ComputedRefImpl(getter,setter)\r\n}\r\nclass ComputedRefImpl{\r\n    private _value\r\n    private _dirty = true\r\n    public effect\r\n    public deps\r\n    private _v_isRef = true\r\n    constructor(getter,public setter){\r\n        // \u62FF\u5230effect\u5B9E\u4F8B \u8BA9\u51FD\u6570\u6267\u884C\r\n       this.effect = new ReactiveEffect(getter,()=>{\r\n        if(!this._dirty){\r\n            this._dirty = true\r\n            traggeEffect(this.deps)\r\n        }\r\n       })\r\n    }\r\n    get value(){ // \u53EA\u6709\u5F53\u3002value \u7684\u65F6\u5019 dirty\u4E3Atrue\u6267\u884C\r\n        \r\n        if(activeEffect){\r\n            //\u8BA9\u8BA1\u7B97\u5C5E\u6027\u505A\u4F9D\u8D56\u6536\u96C6\r\n            // debugger\r\n            trackEffect(this.deps ||(this.deps = new Set()) )\r\n        }\r\n        if(this._dirty){\r\n            this._dirty = false\r\n            this._value = this.effect.run()\r\n        }\r\n        return this._value\r\n    }\r\n    set value(newValue){\r\n        this.setter(newValue)\r\n    }\r\n}", "import { isObject } from \"@vue/shared\"\nimport { trackEffect, traggeEffect } from \"./effect\"\nimport { reactive } from \"./reactive\"\n\nexport function ref(value){\n    return new RefImpl(value)\n}\nexport function toReactive(value){\n    return isObject(value) ? reactive(value) :value\n}\nexport function toRef(object,key){\n    return new ObjectRefImpl(object,key)\n}\nexport function proxyRefs(object){\n    return new Proxy(object,{\n        get(target,key,receiver){\n            let r = Reflect.get(target,key,receiver)\n           return r._v_isRef ? r.value : r\n        },\n        set(target,key,value,receiver){\n            if( target[key]._v_isRef ) {\n                target[key].value = value\n                return true\n            }\n           return Reflect.set(target,key,value,receiver)\n        }\n    })\n}\nexport function toRefs(object){\n    let result = {}\n    for(let key in object){\n        result[key] = new ObjectRefImpl(object,key)\n    }\n    return result\n}\nclass RefImpl{\n    private _value\n    private dep\n    private _v_isRef = true\n    constructor(public rawValue){\n        // rawValue \u53EF\u80FD\u662F\u4E2A\u5BF9\u8C61 \n        this._value = toReactive(rawValue)\n    }\n    get value(){\n        //\u8FD9\u91CC\u9700\u8981\u4F9D\u8D56\u6536\u96C6 \n\n        trackEffect(this.dep || (this.dep = new Set()))\n        return this._value\n    }\n    set value(newValue){\n        if(newValue != this.rawValue) {\n            this._value = toReactive(newValue)\n            this.rawValue = newValue\n            traggeEffect(this.dep)\n        }\n        \n    }\n}\nclass ObjectRefImpl{\n    private _v_isRef = true\n    constructor(public object,public key){}\n    get value(){\n        return this.object[this.key]\n    }\n    set value(newValue){\n        this.object[this.key] = newValue\n    }   \n}", "import { isObject, isArray } from '../../shared/src/index';\nimport { createVNode, isVnode } from './createVNode';\n\n\nexport function h(type,propOrChildren,children){\n    \n    // h\u65B9\u6CD5 \u5982\u679C\u53C2\u6570\u6709\u4E24\u79CD\u60C5\u51B5 1\uFF09\u5143\u7D20+\u5C5E\u6027 2\uFF09\u5143\u7D20+\u513F\u5B50\n    const l = arguments.length\n\n    if(l == 2){\n        //\u5982\u679CpropOrChildren \u662F\u5BF9\u8C61 \u67092\u79CD\u53EF\u80FD \u53EF\u80FD\u662F\u513F\u5B50 \u53EF\u80FD\u662Fprop\n        if(isObject(propOrChildren) && !isArray(propOrChildren)){\n            // \u8981\u4E48\u662F\u5143\u7D20\u5BF9\u8C61 \u8981\u4E48\u662F\u5C5E\u6027\n            if(isVnode(propOrChildren)){\n                return createVNode(type,null,[propOrChildren])\n            }\n            return createVNode(type,propOrChildren)\n        }else{\n            //\u513F\u5B50\u662F\u6570\u7EC4\u6216\u8005 \u5B57\u7B26\u4E32\n            return createVNode(type,null,propOrChildren)\n        }\n    }else{\n        if(l == 3 && isVnode(children)){\n            children = [children]\n        }else if(l>3){\n            children = Array.from(arguments).slice(2)\n        }\n        return createVNode(type,propOrChildren,children)\n    }\n}", "import { shapeFlags, createVNode, Text, isSameVNode, Fragement } from './createVNode';\r\nimport { isString, isNumber } from '../../shared/src/index';\r\n\r\nfunction getSequence(arr){\r\n    let len = arr.length\r\n    let p = arr.slice()\r\n    let result = [0]\r\n    let lastIndex\r\n    let start,end ,middle\r\n    for(let i = 0;i<len;i++){\r\n        const arrI = arr[i] \r\n        if(arrI !== 0){ // 0 \u4EE3\u8868\u65B0\u589E\u7684\u8282\u70B9 \u4E0D\u8BA1\u5165\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\r\n         lastIndex = result[result.length -1]\r\n         if(arr[lastIndex] < arrI){ // \u8BF4\u660E\u5F53\u524D\u8FD9\u4E00\u9879 \u6BD4\u7ED3\u679C\u96C6\u4E2D \u6700\u540E\u4E00\u9879\u5927 \u653E\u5165\u96C6\u5408\u4E2D\r\n            result.push(i)\r\n            p[i] = lastIndex // \u5B58\u7D22\u5F15\r\n            continue\r\n         }\r\n\r\n         //\u5426\u5219\u7684\u60C5\u51B5\r\n         start = 0\r\n         end = result.length -1 \r\n         //\u4E8C\u5206\u67E5\u627E\r\n         while(start < end){ // \u8BA1\u7B97\u6709\u5E8F\u6BD4\u8F83 \u4E8C\u5206\u67E5\u627E\r\n            middle = Math.floor((start + end) /2 )\r\n            if(arr[result[middle]] < arrI){\r\n                start = middle + 1\r\n            }else{\r\n                end = middle\r\n            }\r\n         }\r\n         if(arrI < arr[result[end]]){\r\n            p[i] = result[end-1]\r\n            result[end] = i\r\n         }\r\n        }\r\n    }\r\n    // \u5012\u53D9\u8FFD\u6EAF \u9009\u53D6\u5230\u7ED3\u679C\u96C6\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\r\n    let i = result.length\r\n    let last = result[i-1]\r\n\r\n    while(i-->0){ \r\n        result[i] = last\r\n        last = p[last]\r\n    }\r\n    // console.log(p)\r\n    return result\r\n}\r\n\r\nexport function createRenderer(options){\r\n    // \u7528\u6237\u53EF\u8C03\u7528\u6B64\u65B9\u6CD5 \u4F20\u5165\u5BF9\u5E94\u7684\u6E32\u67D3\u9009\u9879\r\n    let {\r\n        createElement:hostCreateElement,\r\n        createTextNode:hostCreateTextNode,\r\n        insert:hostInsert,\r\n        remove:hostRemove,\r\n        querySelector:hostQuerySelector,\r\n        parentNode:hostParentNode,\r\n        nextSibling:hostNextSibling,\r\n        setText:hostSetText,\r\n        setElementText:hostSetElementText,\r\n        patchProp:hostPatchProp\r\n    } = options\r\n\r\n    function normalize(children,i){\r\n        if(isString(children[i]) || isNumber(children[i])){\r\n            //\u7ED9\u6587\u672C\u52A0\u6807\u8BC6  \u4E0D\u80FD\u7ED9\u5B57\u7B26\u4E32\u52A0 \uFF0C\u8981\u7ED9\u5BF9\u8C61\u52A0\r\n            children[i] = createVNode(Text,null,children[i])\r\n        }\r\n        return children[i]\r\n    }\r\n\r\n    function mountChildren(children,container){\r\n        for(let i = 0;i<children.length;i++){\r\n\r\n            // \u5904\u7406\u540E \u4E0D\u4F1A\u6539\u53D8children \u7684\u5185\u5BB9\r\n            let child = normalize(children,i)\r\n            //child \u53EF\u80FD\u662F\u6587\u672C \u628A\u6587\u672C\u53D8\u6210\u865A\u62DF\u8282\u70B9\r\n\r\n\r\n            patch(null,child,container) //\u9012\u5F52\u6E32\u67D3\u5B50\u8282\u70B9\r\n        }\r\n    }\r\n    function patchProps(oldProps,newProps,el){\r\n        oldProps = oldProps == null ? {} :oldProps\r\n        newProps = newProps == null ? {} :newProps\r\n        for(let key in newProps){\r\n            hostPatchProp(el,key,oldProps[key],newProps[key])\r\n        }\r\n        for(let key in oldProps){\r\n            if(newProps[key] == null){\r\n                hostPatchProp(el,key,oldProps[key],null)\r\n            }\r\n        }\r\n    }\r\n    function mountElement(vnode,dom,anchor){\r\n        let {type,props,children,shapFlag} = vnode\r\n        let el = vnode.el = hostCreateElement(type)\r\n\r\n        if(props){\r\n            // \u66F4\u65B0\u5C5E\u6027\r\n            patchProps(null,props,el)\r\n        }\r\n        //children \u4E0D\u662F\u5B57\u7B26\u4E32 \u5C31\u662F\u6570\u7EC4\r\n        if(shapFlag & shapeFlags.TEXT_CHILDREN ){\r\n            hostSetElementText(el,children)\r\n        }\r\n        if(shapFlag & shapeFlags.ARRAY_CHILDREN){\r\n            mountChildren(children,el)\r\n        }\r\n        hostInsert(el,dom,anchor)\r\n    }\r\n    function processText(preVnode,vnode,dom){\r\n        if(preVnode == null){\r\n            hostInsert(vnode.el = hostCreateTextNode(vnode.children),dom)\r\n            \r\n        }else{\r\n            const el = vnode.el = preVnode.el\r\n            if(vnode.children !== preVnode.children){\r\n                hostSetText(el,vnode.children)\r\n            }\r\n        }\r\n    }\r\n    function unmountChildren(children){\r\n        children.forEach(child => {\r\n            unmount(child)\r\n        });\r\n    }\r\n    function patchKeyedChildren(c1,c2,el){\r\n        // \u5C3D\u53EF\u80FD\u7684\u590D\u7528 \r\n        // \u5148\u8003\u8651\u4E00\u4E9B\u987A\u5E8F\u76F8\u540C\u7684\u60C5\u51B5 \uFF0C\u6BD4\u5982 \u8FFD\u52A0 \u6216\u8005\u5220\u9664\r\n        let i = 0 \r\n        let e1 = c1.length - 1\r\n        let e2 = c2.length -1\r\n\r\n\r\n        //sync form start\r\n        // \u4ECE\u524D\u5F80\u540E\u6BD4\r\n        while(i <=e1 && i<= e2){\r\n            const n1 = c1[i]\r\n            const n2 = c2[i]\r\n            if(isSameVNode(n1,n2)){\r\n                patch(n1,n2,el)\r\n            }else{\r\n                break\r\n            }\r\n            i++\r\n        }\r\n        // console.log(i,e1,e2)\r\n        // \u4ECE\u540E\u5F80\u524D\u6BD4\r\n        while(i <=e1 && i<= e2){\r\n            const n1 = c1[e1]\r\n            const n2 = c2[e2]\r\n            if(isSameVNode(n1,n2)){\r\n                patch(n1,n2,el)\r\n            }else{\r\n                break\r\n            }\r\n            e1--\r\n            e2--\r\n        }\r\n        \r\n        // \u5411\u540E\u8FFD\u52A0 \u5411\u524D\u8FFD\u52A0  \u524D\u5220\u9664 \u540E\u5220\u9664\r\n        if(i>e1){\r\n            if(i<=e2){\r\n                //\u5F80\u540E\u8FFD\u52A0\u7684\u60C5\u51B5\r\n                while(i<=e2){\r\n                    //\u5224\u65ADe2 \u662F\u4E0D\u662F\u672B\u5C3E\u9879\r\n                    const nextPos = e2+1\r\n                    // \u770B\u4E00\u4E0B\u4E0B\u4E00\u9879\u662F\u5426\u5728\u6570\u7EC4\u5185 \u8BF4\u660E\u6709\u53C2\u7167\u7269 \r\n                    let anchor = c2.length <= nextPos ? null : c2[nextPos].el\r\n                   // \u5982\u679Canchor\u6709\u503C  \u5411\u524D\u63D2\u5165 \u5982\u679C\u6CA1\u503C\u5C31\u662F\u5F80\u540E\u8FFD\u52A0\r\n                    patch(null,c2[i],el,anchor)\r\n                    i++\r\n\r\n                }\r\n            }\r\n        }else if(i>e2){ //\u8001\u7684\u591A \u65B0\u7684\u5C11\r\n            if(i<=e1){\r\n                while(i<=e1){\r\n                    unmount(c1[i])\r\n                    i++\r\n                }\r\n            }\r\n        }else{\r\n            // console.log(i,e1,e2)\r\n            // unknow sequnce\r\n            // a b  [c d e ] f g\r\n            // a b  [d e q ] f g\r\n    \r\n            let s1 = i //s1->e1 \u8001\u7684\u9700\u8981\u6BD4\u5BF9\u7684\u90E8\u5206\r\n            let s2 = i // s2->e2 \u65B0\u7684\u9700\u8981\u6BD4\u5BF9\u7684\u90E8\u5206\r\n    \r\n            let toBePatched = e2-s2+1 // \u6211\u4EEC\u8981\u64CD\u4F5C\u7684\u4E2A\u6570\r\n    \r\n            const keyToNewIndexMap = new Map()\r\n            for(let i = s2;i<=e2;i++){\r\n                keyToNewIndexMap.set(c2[i].key,i)\r\n            }\r\n    \r\n            const seq = new Array(toBePatched).fill(0)\r\n    \r\n            for(let i = s1;i<=e1;i++){\r\n                const oldVNode = c1[i]\r\n                let newIndex = keyToNewIndexMap.get(oldVNode.key)\r\n                if(newIndex ==  null){\r\n                    unmount(oldVNode)\r\n                }else{ \r\n                    // \u65B0\u7684\u8001\u7684\u90FD\u6709 \u8BB0\u5F55\u5F53\u524D\u5BF9\u5E94\u7684\u7D22\u5F15 \r\n                    // \u7528\u65B0\u7684\u4F4D\u7F6E \u8DDF\u8001\u7684\u4F4D\u7F6E\u5173\u8054\r\n                    seq[newIndex - s2] = i + 1 // \u8FD9\u91CC\u662F\u56E0\u4E3A0\u53EF\u80FD\u662F\u65B0\u589E\u7684\uFF08\u9ED8\u8BA4\u4E3A0\uFF09\u53EF\u80FD\u662F\u7B2C\u4E00\u4E2A\r\n                    patch(oldVNode,c2[newIndex],el) // \u5982\u679C\u65B0\u8001\u90FD\u6709 \u5C31\u6BD4\u8F83\u5C5E\u6027\u8DDF \u5B50\u8282\u70B9\r\n                }\r\n            }\r\n\r\n            let incr = getSequence(seq)\r\n            // console.log(incr)\r\n            let j = incr.length - 1\r\n\r\n            // toBePatched = 4 \r\n            // incr = [1,2]\r\n\r\n            // console.log(seq)\r\n            for(let i=toBePatched-1;i>=0;i--){\r\n                const currentIndex = s2+i //\u627E\u5230\u5BF9\u5E94\u7684\u7D22\u5F15\r\n                const child = c2[currentIndex] // q d e \r\n                const anchor = currentIndex +1 <=c2.length ? c2[currentIndex+1].el : null\r\n                //\u5224\u65AD \u8981\u79FB\u52A8 \u8FD8\u662F\u65B0\u589E\r\n                // \u5982\u4F55 \u77E5\u9053child \u662F\u65B0\u589E\u7684\r\n                if(seq[i] === 0 ){ // \u5982\u679C\u6709el \u8BF4\u660E\u6E32\u67D3\u8FC7\r\n                    patch(null,child,el,anchor)\r\n                }else{ // \u8FD9\u91CC\u5E94\u8BE5\u5C3D\u91CF\u51CF\u5C11\u79FB\u52A8\u7684\u8282\u70B9\uFF0C\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u6765\u5B9E\u73B0\r\n                    if( i != incr[j]){ // \u901A\u8FC7\u5E8F\u5217\u6765\u8FDB\u884C\u6BD4\u5BF9 \r\n                        hostInsert(child.el,el,anchor)\r\n                    }else{\r\n                        j-- // \u4E0D\u505A\u4EFB\u4F55\u64CD\u4F5C\r\n                    }\r\n                }\r\n            \r\n            }\r\n            // console.log(keyToNewIndexMap)\r\n\r\n        }\r\n\r\n    }\r\n    // vue \u4E2D\u5728\u4F7F\u7528\u7684\u65F6\u5019 \u5FC5\u987B\u6709\u4E00\u4E2A\u6839\u8282\u70B9 \u5728\u4E00\u4E2A\u4EE3\u7801\u5757\u4E2D\r\n    function patchChild(preVnode,vnode,el){\r\n        let c1 = preVnode.children\r\n        let c2 = vnode.children\r\n        const preShapFlag = preVnode.shapFlag\r\n        const ShapFlag = vnode.shapFlag\r\n\r\n        // \u5F00\u59CB\u6BD4\u8F83\u513F\u5B50\u60C5\u51B5 \r\n\r\n        if(ShapFlag & shapeFlags.TEXT_CHILDREN){ // \u6587\u672C \u6570\u7EC4\r\n            if(preShapFlag & shapeFlags.ARRAY_CHILDREN){\r\n                unmountChildren(c1)\r\n            }\r\n            if(c1 !== c2){\r\n                hostSetElementText(el,c2)\r\n            }\r\n        }else{\r\n            // \u6700\u65B0\u662F \u7A7A\u6216\u8005\u662F\u6570\u7EC4\r\n\r\n            if(preShapFlag & shapeFlags.ARRAY_CHILDREN ){\r\n                // \u4E4B\u524D\u662F\u6570\u7EC4\r\n                if(ShapFlag & shapeFlags.ARRAY_CHILDREN){\r\n                    // \u524D\u540E\u90FD\u662F\u6570\u7EC4\r\n                    // diff \u7B97\u6CD5\r\n                    patchKeyedChildren(c1,c2,el)\r\n                }else{\r\n                    // \u73B0\u5728\u6CA1\u6709\u4E86\r\n                    unmountChildren(c1)\r\n                }\r\n            }else{\r\n                if(preShapFlag & shapeFlags.TEXT_CHILDREN){\r\n                    hostSetElementText(el,'')\r\n                }\r\n                if(ShapFlag & shapeFlags.ARRAY_CHILDREN){\r\n                    mountChildren(c2,el)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function patchElement(preVnode,vnode){\r\n        // preVnode,vnode \u80FD\u670D\u7528 \u8282\u70B9\u5C31\u4E0D\u7528\u5220\u9664\r\n        let el = vnode.el = preVnode.el\r\n        let oldProps = preVnode.props\r\n        let newProps = vnode.props\r\n        patchProps(oldProps,newProps,el)\r\n\r\n        // \u63A5\u4E0B\u6765\u6BD4\u513F\u5B50\r\n        patchChild(preVnode,vnode,el)\r\n    }\r\n    function processElement(preVnode,vnode,dom,anchor){\r\n        if(preVnode == null){\r\n            mountElement(vnode,dom,anchor)\r\n        }else{\r\n            //\u6BD4\u8F83\u539F\u5143\u7D20\r\n            patchElement(preVnode,vnode)\r\n        }\r\n    }\r\n    function unmount(preVnode){\r\n        if(preVnode.type === Fragement){\r\n            return unmountChildren(preVnode.children)\r\n        }\r\n        hostRemove(preVnode.el)\r\n    }\r\n    function processFragement(preVnode,vnode,dom){\r\n        if(preVnode == null){\r\n            mountChildren(vnode.children,dom)\r\n        }else{\r\n            patchKeyedChildren(preVnode.children,vnode.children,dom)\r\n        }\r\n    }\r\n    function patch(preVnode,vnode,dom,anchor = null){\r\n        // \u5224\u65AD \u6807\u7B7E\u540D \u8DDFkey \u5982\u679C\u4E00\u6837 \u8BF4\u660E\u662F\u540C\u4E00\u4E2A\u8282\u70B9\r\n        if(preVnode && !isSameVNode(preVnode,vnode)){\r\n            unmount(preVnode)\r\n            preVnode = null // \u5C06preVnode\u7F6E\u4E3A null \u5C31\u4F1A\u8D70vnode \u7684\u521D\u59CB\u5316\r\n        }\r\n\r\n        // \u770BpreVnode \u5982\u679C\u662Fnull \u8BF4\u660E\u4E4B\u524D\u6CA1\u6709 \u76F4\u63A5\u589E\u52A0\r\n        const {type,shapFlag} = vnode\r\n        switch(type){\r\n            case Text:\r\n                processText(preVnode,vnode,dom)\r\n                break;\r\n            case Fragement:\r\n                processFragement(preVnode,vnode,dom)\r\n                break\r\n            default:\r\n                if(shapFlag & shapeFlags.ELEMENT){\r\n                    processElement(preVnode,vnode,dom,anchor)\r\n                }\r\n        }\r\n        // if(preVnode == null){\r\n        //     mountElement(vnode,dom)\r\n        // }\r\n    }\r\n\r\n    function render(vnode,container){\r\n        // \u6211\u4EEC\u9700\u8981\u5C06vnode \u6E32\u67D3\u5230container\u4E2D\uFF0C\u5E76\u4E14\u8C03\u7528options\u7684api\r\n        if(vnode == null){\r\n            //\u5378\u8F7D\u5143\u7D20\r\n            if(container._vnode){\r\n                unmount(container._vnode)\r\n            }\r\n\r\n        }else{\r\n            //\u66F4\u65B0\r\n            patch(container._vnode || null ,vnode,container)\r\n        }\r\n        container._vnode = vnode\r\n    }\r\n    return {\r\n        render\r\n    }\r\n}"],
  "mappings": "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",
  "names": ["shapeFlags", "effect", "effect", "i", "render", "render"]
}
